(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{204:function(e,t,n){var content=n(254);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(50).default)("36873827",content,!0,{sourceMap:!1})},253:function(e,t,n){"use strict";var r=n(204);n.n(r).a},254:function(e,t,n){(e.exports=n(49)(!1)).push([e.i,"body,html{font-family:Helvetica Neue,Helvetica,sans-serif;font-size:16px}.main{width:318px;margin:20px auto 0}.app-button,.navigation{margin-top:22px}.app-dialog-box,.app-email-filter{margin-top:20px}.navigation{border-top:1px solid #e0e7eb;display:flex;justify-content:center}.navigation__list{list-style:none;display:flex;flex-direction:column;padding:0;margin:30px 0 0}",""])},257:function(e,t,n){"use strict";n.r(t);n(51);var r=n(7),o=n(181),l=n(183),c=n(182),d=n(209),h=n(180),m=n(207),v=n(208),f=n(202),x=n(205),w=n(206),y={components:{AppButton:o.a,AppFoto:l.a,AppHeader:c.a,AppInput:d.a,DialogBox:h.a,Preloader:m.a,NavLink:v.a},data:function(){return{dialogText:"Hi, I'm Stephen. I'll sign you up with InstaPay in minutes!",helpBlock:{reset:!1,help:!0},navigation:{prev:"/",next:"/contacts"},email:"",errorMessage:"",showPreloader:!1}},methods:{submit:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validate(),this.$v.email.$error){e.next=14;break}return this.showPreloader=!0,e.prev=3,e.next=6,this.$axios({url:w.a.GRAPHQL_PATH,method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({query:"query ($email: String!) { hasExistingLead (email: $email) } ",variables:{email:this.email}})});case 6:t=e.sent,this.$store.dispatch("setEmail",this.email),this.handleResponse(t.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[3,11]])}));return function(){return e.apply(this,arguments)}}(),validate:function(){this.$v.email.$touch(),this.errorMessage=this.$v.email.required?this.$v.email.email?"":"You should type a valid email address":"This field is required"},handleResponse:function(data){data.data&&!data.data.hasExistingLead?this.$router.push("/start"):data.data&&data.data.hasExistingLead&&this.$router.push("/check-email")},redirect:function(){this.$router.push("/")}},validations:{email:{required:x.b,email:f.email}}},_=(n(253),n(18)),component=Object(_.a)(y,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[n("AppHeader",{attrs:{helpBlock:e.helpBlock}}),e._v(" "),n("main",{staticClass:"main"},[n("AppFoto",{staticClass:"app-foto"}),e._v(" "),n("DialogBox",{staticClass:"app-dialog-box",attrs:{text:e.dialogText}}),e._v(" "),n("AppInput",{staticClass:"app-email-filter",attrs:{errorMessage:e.errorMessage,type:"email",appPlaceholder:"Email"},on:{input:e.validate},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),n("AppButton",{staticClass:"app-button",attrs:{text:"Next"},nativeOn:{click:function(t){return e.submit(t)}}})],1),e._v(" "),n("nav",{staticClass:"navigation"},[n("ul",{staticClass:"navigation__list"},[n("li",{staticClass:"navigation__element"},[n("NavLink",{attrs:{text:"Sign up",link:"/"}})],1)])]),e._v(" "),n("Preloader",{directives:[{name:"show",rawName:"v-show",value:e.showPreloader,expression:"showPreloader"}]})],1)},[],!1,null,null,null);t.default=component.exports}}]);