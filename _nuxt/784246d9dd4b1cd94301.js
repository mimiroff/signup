(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{198:function(e,t,r){var content=r(208);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(52).default)("229d1e5b",content,!0,{sourceMap:!1})},200:function(e,t,r){var content=r(233);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(52).default)("1feb09c6",content,!0,{sourceMap:!1})},207:function(e,t,r){"use strict";var n=r(198);r.n(n).a},208:function(e,t,r){(e.exports=r(51)(!1)).push([e.i,".control{position:relative}.control__input{width:100%;height:48px;border:1px solid #e0e0e0;border-radius:4px;background-color:#f4f6f5;color:#333;font-family:inherit;padding:18px 16px 10px}.control__input:-moz-read-only{color:#666;background-color:#f2f2f2;border-color:#f2f2f2}.control__input:read-only{color:#666;background-color:#f2f2f2;border-color:#f2f2f2}.control__placeholder{color:#bdbdbd;font-size:16px;position:absolute;top:16px;left:16px;transition:font-size .3s,top .3s}.control__placeholder--moved{top:4px;font-size:12px}",""])},232:function(e,t,r){"use strict";var n=r(200);r.n(n).a},233:function(e,t,r){(e.exports=r(51)(!1)).push([e.i,"body,html{font-family:Helvetica Neue,Helvetica,sans-serif;font-size:16px}.main{width:318px;margin:20px auto 0}.app-button,.navigation{margin-top:22px}.app-dialog-box,.app-email-filter{margin-top:20px}.navigation{border-top:1px solid #e0e7eb;display:flex;justify-content:center}.navigation__list{list-style:none;display:flex;flex-direction:column;padding:0;margin:30px 0 0}.navigation__link{text-decoration:none;color:#666}.fade-enter-active,.fade-leave-active{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}.fade-enter,.fade-leave-to{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}",""])},236:function(e,t,r){"use strict";r.r(t);r(35),r(53);var n=r(7),o=r(181),l=r(183),c=r(182),d=r(202),f={props:["appPlaceholder","appType","value"],data:function(){return{focused:!1}},computed:{movePlaceholder:function(){return this.value||this.focused}}},m=(r(207),r(18)),h=Object(m.a)(f,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"control"},[r("input",{staticClass:"control__input",attrs:{readonly:"",type:e.appType},domProps:{value:e.value},on:{focusin:function(t){e.focused=!0},focusout:function(t){e.focused=!1}}}),e._v(" "),r("span",{staticClass:"control__placeholder",class:{"control__placeholder--moved":e.movePlaceholder}},[e._v(e._s(e.appPlaceholder))])])},[],!1,null,null,null).exports,v=r(180),x=r(199),_={components:{AppButton:o.a,AppFoto:l.a,AppHeader:c.a,AppInput:d.a,DialogBox:v.a,ReadOnlyInput:h},data:function(){return{dialogText:"Let's get started!",helpBlock:{reset:!1,help:!0},navigation:{prev:"/",next:"/company"},phone:"",firstName:"",lastName:"",emailError:"",phoneError:"",firstNameError:"",lastNameError:""}},validations:{phone:{required:x.required,numeric:x.numeric,minLen:Object(x.minLength)(10),maxLen:Object(x.maxLength)(10)},firstName:{required:x.required},lastName:{required:x.required}},computed:{email:function(){return this.$store.getters.getEmail}},methods:{submit:function(){var e=Object(n.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validateAll(),this.$v.phone.$error||this.$v.firstName.$error||this.$v.lastName.$error){e.next=12;break}return e.prev=2,e.next=5,this.$axios({url:"https://backend-test.getinstapay.com/graphql",method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({query:"mutation ($lead: LeadInput!) { createLead (lead: $lead) } ",variables:{lead:{email:this.email,firstName:this.firstName,lastName:this.lastName,phone:this.phone}}})});case 5:t=e.sent,this.handleResponse(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[2,9]])}));return function(){return e.apply(this,arguments)}}(),handleResponse:function(data){console.log(data)},validatePhone:function(){this.$v.phone.$touch(),this.phoneError=this.$v.phone.required?this.$v.phone.minLen&&this.$v.phone.maxLen?this.$v.phone.numeric?"":"Digits is allowed only":"Phone number should have 10 digits":"This field is required"},validateFirstName:function(){this.$v.firstName.$touch(),this.firstNameError=this.$v.firstName.required?"":"This field is required"},validateLastName:function(){this.$v.lastName.$touch(),this.lastNameError=this.$v.lastName.required?"":"This field is required"},validateAll:function(){this.validatePhone(),this.validateFirstName(),this.validateLastName()},validateCurrent:function(e){switch(e.target.name){case"phone":this.validatePhone();break;case"firstName":this.validateFirstName();break;case"lastName":this.validateLastName()}}}},N=(r(232),Object(m.a)(_,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app"},[r("AppHeader",{attrs:{helpBlock:e.helpBlock}}),e._v(" "),r("main",{staticClass:"main"},[r("AppFoto",{staticClass:"app-foto"}),e._v(" "),r("DialogBox",{staticClass:"app-dialog-box",attrs:{text:e.dialogText}}),e._v(" "),r("transition",{attrs:{name:"fade",appear:""}},[r("ReadOnlyInput",{staticClass:"app-email-filter",attrs:{value:e.email,type:"email",appPlaceholder:"Email"}})],1),e._v(" "),r("transition",{attrs:{name:"fade",appear:""}},[r("AppInput",{staticClass:"app-email-filter",attrs:{errorMessage:e.phoneError,name:"phone",type:"number",appPlaceholder:"Phone"},on:{blur:e.validateCurrent},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),e._v(" "),r("transition",{attrs:{name:"fade",appear:""}},[r("AppInput",{staticClass:"app-email-filter",attrs:{errorMessage:e.firstNameError,name:"firstName",type:"text",appPlaceholder:"First name"},on:{blur:e.validateCurrent},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),e._v(" "),r("transition",{attrs:{name:"fade",appear:""}},[r("AppInput",{staticClass:"app-email-filter",attrs:{errorMessage:e.lastNameError,name:"lastName",type:"text",appPlaceholder:"Last name"},on:{blur:e.validateCurrent},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),e._v(" "),r("AppButton",{staticClass:"app-button",attrs:{text:"Next"},nativeOn:{click:function(t){return e.submit(t)}}})],1),e._v(" "),r("nav",{staticClass:"navigation"},[r("ul",{staticClass:"navigation__list"},[r("li",{staticClass:"navigation__element"},[r("a",{staticClass:"navigation__link",attrs:{href:e.navigation.prev}},[e._v("Go back")])])])])],1)},[],!1,null,null,null));t.default=N.exports}}]);