(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{201:function(t,e,n){var content=n(235);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(52).default)("36873827",content,!0,{sourceMap:!1})},234:function(t,e,n){"use strict";var l=n(201);n.n(l).a},235:function(t,e,n){(t.exports=n(51)(!1)).push([t.i,"body,html{font-family:Helvetica Neue,Helvetica,sans-serif;font-size:16px}.main{width:318px;margin:20px auto 0}.app-button,.navigation{margin-top:22px}.app-dialog-box,.app-email-filter{margin-top:20px}.navigation{border-top:1px solid #e0e7eb;display:flex;justify-content:center}.navigation__list{list-style:none;display:flex;flex-direction:column;padding:0;margin:30px 0 0}.navigation__link{text-decoration:none;color:#666}",""])},238:function(t,e,n){"use strict";n.r(e);n(53);var l=n(7),r=n(181),o=n(183),c=n(182),d=n(202),m=n(180),h=n(199),v={components:{AppButton:r.a,AppFoto:o.a,AppHeader:c.a,AppInput:d.a,DialogBox:m.a},data:function(){return{dialogText:"Hi, I'm Stephen. I'll sign you up with InstaPay in minutes!",helpBlock:{reset:!1,help:!0},navigation:{prev:"/",next:"/contacts"},email:"",errorMessage:""}},methods:{submit:function(){var t=Object(l.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.validate(),this.$v.email.$error){t.next=13;break}return t.prev=2,t.next=5,this.$axios({url:"https://backend-test.getinstapay.com/graphql",method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({query:"query ($email: String!) { hasExistingLead (email: $email) } ",variables:{email:this.email}})});case 5:e=t.sent,this.$store.dispatch("setEmail",this.email),this.handleResponse(e.data),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0);case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(){return t.apply(this,arguments)}}(),validate:function(){this.$v.email.$touch(),this.errorMessage=this.$v.email.required?this.$v.email.email?"":"You should type a valid email address":"This field is required"},handleResponse:function(data){data.data&&!data.data.hasExistingLead?this.$router.push("/start"):data.data&&data.data.hasExistingLead&&this.$router.push("/check-email")}},validations:{email:{required:h.required,email:h.email}}},f=(n(234),n(18)),component=Object(f.a)(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app"},[n("AppHeader",{attrs:{helpBlock:t.helpBlock}}),t._v(" "),n("main",{staticClass:"main"},[n("AppFoto",{staticClass:"app-foto"}),t._v(" "),n("DialogBox",{staticClass:"app-dialog-box",attrs:{text:t.dialogText}}),t._v(" "),n("AppInput",{staticClass:"app-email-filter",attrs:{errorMessage:t.errorMessage,type:"email",appPlaceholder:"Email"},on:{blur:t.validate},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),n("AppButton",{staticClass:"app-button",attrs:{text:"Next"},nativeOn:{click:function(e){return t.submit(e)}}})],1),t._v(" "),t._m(0)],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("nav",{staticClass:"navigation"},[e("ul",{staticClass:"navigation__list"},[e("li",{staticClass:"navigation__element"},[e("a",{staticClass:"navigation__link",attrs:{href:"#"}},[this._v("Sign up")])])])])}],!1,null,null,null);e.default=component.exports}}]);