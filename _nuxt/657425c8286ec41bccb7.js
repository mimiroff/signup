(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{198:function(t,e,o){var content=o(218);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(50).default)("229d1e5b",content,!0,{sourceMap:!1})},200:function(t,e,o){var content=o(223);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(50).default)("74fdc7ef",content,!0,{sourceMap:!1})},203:function(t,e,o){var content=o(252);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(50).default)("1feb09c6",content,!0,{sourceMap:!1})},217:function(t,e,o){"use strict";var n=o(198);o.n(n).a},218:function(t,e,o){(t.exports=o(49)(!1)).push([t.i,".control{position:relative;transition:all .7s}.control__input{width:100%;height:48px;border:1px solid #e0e0e0;border-radius:4px;background-color:#f4f6f5;color:#333;font-family:inherit;font-size:16px;padding:18px 16px 10px;outline:none}.control__input:-moz-read-only{color:#666;background-color:#f2f2f2;border-color:#f2f2f2}.control__input:read-only{color:#666;background-color:#f2f2f2;border-color:#f2f2f2}.control__placeholder{color:#bdbdbd;font-size:16px;position:absolute;top:16px;left:16px;transition:font-size .3s,top .3s}.control__placeholder--moved{top:4px;font-size:12px}.control__input:focus{border:1px solid #1788c9;box-shadow:4px 3px #e8f3fa,4px -3px #e8f3fa,-4px 3px #e8f3fa,-4px -3px #e8f3fa,3px 4px #e8f3fa,-3px 4px #e8f3fa,-3px -4px #e8f3fa,3px -4px #e8f3fa}",""])},222:function(t,e,o){"use strict";var n=o(200);o.n(n).a},223:function(t,e,o){(t.exports=o(49)(!1)).push([t.i,".control[data-v-8cbbf1a2]{position:relative;transition:all .7s}.control__input[data-v-8cbbf1a2]{width:100%;height:48px;border:1px solid #e0e0e0;border-radius:4px;background-color:#f4f6f5;color:#333;font-family:inherit;padding:18px 16px 10px;opacity:0;outline:none}.control__input[data-v-8cbbf1a2]:-moz-read-only{color:#666;background-color:#f2f2f2;border-color:#f2f2f2}.control__input[data-v-8cbbf1a2]:read-only{color:#666;background-color:#f2f2f2;border-color:#f2f2f2}.control__mask[data-v-8cbbf1a2]{width:100%;height:48px;border:1px solid #e0e0e0;border-radius:4px;background-color:#f4f6f5;color:#333;font-family:inherit;padding:18px 16px 10px;position:absolute;top:0;left:0;cursor:text}.control__input:focus+.control__mask[data-v-8cbbf1a2]{border:1px solid #1788c9;box-shadow:4px 3px #e8f3fa,4px -3px #e8f3fa,-4px 3px #e8f3fa,-4px -3px #e8f3fa,3px 4px #e8f3fa,-3px 4px #e8f3fa,-3px -4px #e8f3fa,3px -4px #e8f3fa}.control__placeholder[data-v-8cbbf1a2]{color:#bdbdbd;font-size:16px;position:absolute;top:16px;left:16px;transition:font-size .3s,top .3s;cursor:text}.control__placeholder--moved[data-v-8cbbf1a2]{top:4px;font-size:12px}.control__input-error[data-v-8cbbf1a2]{padding:0 16px;margin:0;width:100%;height:16px;font-size:12px;border-radius:4px;color:#fff;background-color:#ba595b;position:absolute;top:48px;left:0;display:none}.invalid[data-v-8cbbf1a2]{display:block}.control__input[type=number][data-v-8cbbf1a2]::-webkit-inner-spin-button,.control__input[type=number][data-v-8cbbf1a2]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}",""])},251:function(t,e,o){"use strict";var n=o(203);o.n(n).a},252:function(t,e,o){(t.exports=o(49)(!1)).push([t.i,"body,html{font-family:Helvetica Neue,Helvetica,sans-serif;font-size:16px}.main{width:318px;margin:20px auto 0}.app-button,.navigation{margin-top:22px}.app-dialog-box,.app-email-filter{margin-top:20px}.navigation{border-top:1px solid #e0e7eb;display:flex;justify-content:center}.navigation__list{list-style:none;display:flex;flex-direction:column;padding:0;margin:30px 0 0}.fade-enter-active,.fade-leave-active{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}.fade-enter,.fade-leave-to{opacity:0;-webkit-transform:translateY(30px);transform:translateY(30px)}",""])},255:function(t,e,o){"use strict";o.r(e);o(51);var n=o(7),r=o(181),l=o(183),c=o(182),f=o(209),d={props:["appPlaceholder","appType","value"],data:function(){return{focused:!1}},computed:{movePlaceholder:function(){return this.value||this.focused}}},h=(o(217),o(18)),m=Object(h.a)(d,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"control"},[o("input",{staticClass:"control__input",attrs:{readonly:"",type:t.appType},domProps:{value:t.value},on:{focusin:function(e){t.focused=!0},focusout:function(e){t.focused=!1}}}),t._v(" "),o("span",{staticClass:"control__placeholder",class:{"control__placeholder--moved":t.movePlaceholder}},[t._v(t._s(t.appPlaceholder))])])},[],!1,null,null,null).exports,x=o(180),v=o(207),_=(o(71),o(35),{props:["appPlaceholder","errorMessage","name"],data:function(){return{inputValue:"",focused:!1,maskText:""}},computed:{movePlaceholder:function(){return this.inputValue||this.focused},inputListeners:function(){var t=this;return Object.assign({},this.$listeners,{input:function(e){t.$emit("input",t.checkPhoneInput())}})}},methods:{checkPhoneInput:function(){var t=this.inputValue.split("");return this.inputValue&&(!/^[0-9]+$/.test(this.inputValue)||t.length>10)&&t.pop(),t.length<1?this.maskText="":t.length>0&&t.length<4?this.maskText="+1(".concat(t.join("")):t.length>=4&&t.length<7?this.maskText="+1(".concat(t.slice(0,3).join(""),") ").concat(t.slice(3).join("")):t.length>=7&&t.length<9?this.maskText="+1(".concat(t.slice(0,3).join(""),") ").concat(t.slice(3,6).join(""),"-").concat(t.slice(6,8).join("")):t.length>=9&&(this.maskText="+1(".concat(t.slice(0,3).join(""),") ").concat(t.slice(3,6).join(""),"-").concat(t.slice(6).join(""))),this.inputValue=t.join(""),this.inputValue}}}),N=(o(222),Object(h.a)(_,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"control"},[o("label",[o("input",t._g({directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"control__input",attrs:{name:t.name,type:"tel"},domProps:{value:t.inputValue},on:{focusin:function(e){t.focused=!0},focusout:function(e){t.focused=!1},input:function(e){e.target.composing||(t.inputValue=e.target.value)}}},t.inputListeners)),t._v(" "),o("div",{staticClass:"control__mask"},[t._v(t._s(t.maskText))]),t._v(" "),o("span",{staticClass:"control__placeholder",class:{"control__placeholder--moved":t.movePlaceholder}},[t._v(t._s(t.appPlaceholder))])]),t._v(" "),o("p",{staticClass:"control__input-error",class:{invalid:t.errorMessage}},[t._v(t._s(t.errorMessage))])])},[],!1,null,"8cbbf1a2",null).exports),k=o(208),y=o(202),P=o(205),$=o(206),w={components:{AppButton:r.a,AppFoto:l.a,AppHeader:c.a,AppInput:f.a,DialogBox:x.a,ReadOnlyInput:m,Preloader:v.a,PhoneInput:N,NavLink:k.a},data:function(){return{dialogText:"Let's get started!",helpBlock:{reset:!1,help:!0},phone:"",firstName:"",lastName:"",emailError:"",phoneError:"",firstNameError:"",lastNameError:"",showPreloader:!1}},watch:{phone:function(){this.validatePhone()},firstName:function(){this.validateFirstName()},lastName:function(){this.validateLastName()}},validations:{phone:{required:P.b,minLen:Object(y.minLength)($.a.PHONE_NUMBER_LENGTH)},firstName:{required:P.b,letters:P.a,maxLen:Object(y.maxLength)(100)},lastName:{required:P.b,letters:P.a,maxLen:Object(y.maxLength)(100)}},computed:{email:function(){return this.$store.getters.getEmail}},methods:{submit:function(){var t=Object(n.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.validateAll(),this.$v.phone.$error||this.$v.firstName.$error||this.$v.lastName.$error){t.next=13;break}return this.showPreloader=!0,t.prev=3,t.next=6,this.$axios({url:$.a.GRAPHQL_PATH,method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({query:"mutation ($lead: LeadInput!) { createLead (lead: $lead) } ",variables:{lead:{email:this.email.trim(),firstName:this.firstName.trim(),lastName:this.lastName.trim(),phone:this.phone}}})});case 6:e=t.sent,this.handleResponse(e.data),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.log(t.t0);case 13:case"end":return t.stop()}},t,this,[[3,10]])}));return function(){return t.apply(this,arguments)}}(),handleResponse:function(data){this.showPreloader=!1,console.log(data)},validatePhone:function(){this.$v.phone.$touch(),this.phoneError=this.$v.phone.required?this.$v.phone.minLen?"":"Phone nunber must be 10-digit":"Phone number is missing"},validateFirstName:function(){this.$v.firstName.$touch(),this.firstNameError=this.$v.firstName.required?this.$v.firstName.letters?this.$v.firstName.maxLen?"":"Max length is 100 letters":"Name should contain letters only":"This field is required"},validateLastName:function(){this.$v.lastName.$touch(),this.lastNameError=this.$v.lastName.required?this.$v.lastName.letters?this.$v.lastName.maxLen?"":"Max length is 100 letters":"Name should contain letters only":"This field is required"},validateAll:function(){this.validatePhone(),this.validateFirstName(),this.validateLastName()},redirect:function(){this.$router.push("/")}}},L=(o(251),Object(h.a)(w,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app"},[o("AppHeader",{attrs:{helpBlock:t.helpBlock}}),t._v(" "),o("main",{staticClass:"main"},[o("AppFoto",{staticClass:"app-foto"}),t._v(" "),o("DialogBox",{staticClass:"app-dialog-box",attrs:{text:t.dialogText}}),t._v(" "),o("transition",{attrs:{name:"fade",appear:""}},[o("ReadOnlyInput",{staticClass:"app-email-filter",attrs:{value:t.email,type:"email",appPlaceholder:"Email"}})],1),t._v(" "),o("transition",{attrs:{name:"fade",appear:""}},[o("PhoneInput",{staticClass:"app-email-filter",attrs:{errorMessage:t.phoneError,name:"phone",appPlaceholder:"Phone"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),t._v(" "),o("transition",{attrs:{name:"fade",appear:""}},[o("AppInput",{staticClass:"app-email-filter",attrs:{errorMessage:t.firstNameError,name:"firstName",type:"text",appPlaceholder:"First name",maxlength:"100"},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})],1),t._v(" "),o("transition",{attrs:{name:"fade",appear:""}},[o("AppInput",{staticClass:"app-email-filter",attrs:{errorMessage:t.lastNameError,name:"lastName",type:"text",appPlaceholder:"Last name",maxlength:"100"},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})],1),t._v(" "),o("AppButton",{staticClass:"app-button",attrs:{text:"Next"},nativeOn:{click:function(e){return t.submit(e)}}})],1),t._v(" "),o("nav",{staticClass:"navigation"},[o("ul",{staticClass:"navigation__list"},[o("li",{staticClass:"navigation__element"},[o("NavLink",{attrs:{text:"Go back",link:"/"}})],1)])]),t._v(" "),o("Preloader",{directives:[{name:"show",rawName:"v-show",value:t.showPreloader,expression:"showPreloader"}]})],1)},[],!1,null,null,null));e.default=L.exports}}]);